<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Key Detection</title>
    <link
      href="https://fonts.googleapis.com/css?family=Amatic+SC"
      rel="stylesheet"
      type="text/css"
    />
  </head>
  <body>
    <style></style>
    <script>
      let typed = [];
      let secret = [];
      const secretCode = "secret";
      const secretEnd = "end";

      window.addEventListener("keyup", (e) => {
        typed.push(e.key);
        console.log("here is what has been typed so far ...", typed);
        if (
          typed.join("").includes(secretCode) &&
          !typed.join("").includes(secretEnd)
        ) {
          secret.push(e.key);
          console.log("secret code detected!");
        }
        if (
          typed.join("").includes(secretCode) &&
          typed.join("").includes(secretEnd)
        ) {
          let res = secret.join("").substring(1);
          console.log(
            "the secret message has ended! here is the secret message:",
            res.slice(0, -secretEnd.length)
          );
          typed = [];
          secret = [];
        }
      });
    </script>
  </body>
</html>
